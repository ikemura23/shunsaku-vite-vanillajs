# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際のClaude Code (claude.ai/code) へのガイダンスを提供します。

## プロジェクト概要
- **種類**: Vite + Vanilla JavaScript ウェブアプリケーション
- **モジュールシステム**: ES Modules (package.jsonで`"type": "module"`を指定)
- **主要言語**: 日本語 (ドキュメントとHTMLのlang属性)
- **ビルドツール**: Vite 7.x (Rollupバンドラー使用)

## 開発コマンド
```bash
npm install          # 依存関係をインストール
npm run dev          # 開発サーバーを起動 (ポート3000、ブラウザ自動起動)
npm run build        # 本番用ビルド (dist/に出力)
npm run preview      # 本番ビルドをローカルでプレビュー
```

## アーキテクチャとコードパターン

### ファイル構造
- `index.html` - 日本語lang属性を持つメインHTMLエントリーポイント
- `src/main.js` - ESモジュールと関数型パターンを使用するJavaScriptエントリーポイント
- `style.css` - ダーク/ライトモード自動切り替え機能付きメインスタイルシート
- `vite.config.js` - ポート3000の開発サーバー、ソースマップ有効
- `src/` - すべてのJavaScriptファイルを配置するディレクトリ

### JavaScriptパターン
- **ESモジュール**: 全体で最新の`import/export`構文を使用
- **関数型プログラミング**: カウンターロジックはクロージャと高階関数を使用
- **CSS インポート**: CSSファイルをJavaScriptで直接インポート (`import './style.css'`)
- **DOM安全性**: 要素選択時にnullチェックを含む

### CSS機能
- **テーマシステム**: `prefers-color-scheme`による自動ダーク/ライトモード
- **CSS変数**: テーマ用にカスタムプロパティを使用
- **タイポグラフィ**: Interフォントファミリーとシステムフォールバック
- **モバイルファースト**: レスポンシブデザインアプローチ

## 開発環境セットアップ
- **Node.js**: ViteとESモジュールに必須
- **ブラウザサポート**: ES6+対応のモダンブラウザ
- **ホットリロード**: ViteのHMRシステムによる自動更新

## ビルドプロセス
- **バンドラー**: Rollup (Vite経由)
- **出力**: `dist/`ディレクトリ
- **最適化**: 本番環境での自動ミニファイとアセット最適化
- **ソースマップ**: デバッグ用に有効化

## 開発ワークフロー
作業は以下の順序で行う：
1. **要件作成** - 機能要件や仕様を`docs/spec.md`に文書化
2. **設計** - アーキテクチャやシステム設計を`docs/design.md`に記載
3. **タスク書き出し** - 具体的な作業タスクを`docs/task.md`に記載

## ファイル配置ルール
- **JavaScriptファイル**: すべてのJSファイルは`src/`ディレクトリに配置
- **エントリーポイント**: `src/main.js`がメインエントリーポイント
- **モジュール**: 新しいJSモジュールも`src/`ディレクトリ内に作成
- **ドキュメント**: 要件書や設計書などのドキュメントは`docs/`ディレクトリに作成
- **仕様書**: 機能要件や仕様は`docs/spec.md`に記載
- **設計書**: アーキテクチャやシステム設計は`docs/design.md`に記載
- **作業タスク**: 作業を行う前に、作業タスクを`docs/task.md`に記載

## 特別な考慮事項
- **既存ドキュメント**: 包括的な日本語README.mdが詳細なガイダンスを提供
- **国際化**: HTMLは`lang="ja"`を使用しているが、UIテキストは現在英語
- **モジュール読み込み**: 厳密なESモジュール - CommonJS互換性なし