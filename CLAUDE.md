# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際のClaude Code (claude.ai/code) へのガイダンスを提供します。

## プロジェクト概要
- **種類**: Vite + Vanilla JavaScript ウェブアプリケーション
- **開発方針**: プロトタイプ開発がメイン - シンプルで雑でも動作することを優先
- **モジュールシステム**: ES Modules (package.jsonで`"type": "module"`を指定)
- **主要言語**: 日本語 (ドキュメントとHTMLのlang属性)
- **ビルドツール**: Vite 7.x (Rollupバンドラー使用)

## 開発コマンド
```bash
npm install          # 依存関係をインストール
npm run dev          # 開発サーバーを起動 (ポート3000、ブラウザ自動起動)
npm run build        # 本番用ビルド (dist/に出力)
npm run preview      # 本番ビルドをローカルでプレビュー
```

## アーキテクチャとコードパターン

### ファイル構造
- `index.html` - 日本語lang属性を持つメインHTMLエントリーポイント
- `src/main.js` - ESモジュールと関数型パターンを使用するJavaScriptエントリーポイント
- `style.css` - ダーク/ライトモード自動切り替え機能付きメインスタイルシート
- `vite.config.js` - ポート3000の開発サーバー、ソースマップ有効
- `src/` - すべてのJavaScriptファイルを配置するディレクトリ

### JavaScriptパターン (プロトタイプ重視)
- **シンプルなコード**: 複雑な設計パターンよりも読みやすさと速度を優先
- **ESモジュール**: 基本的な`import/export`構文のみ使用
- **直接的なDOM操作**: getElementById、addEventListener等の基本的なAPI中心
- **グローバル変数OK**: プロトタイプでは過度な抽象化を避け、必要に応じてグローバル変数も使用

### CSS機能
- **テーマシステム**: `prefers-color-scheme`による自動ダーク/ライトモード
- **CSS変数**: テーマ用にカスタムプロパティを使用
- **タイポグラフィ**: Interフォントファミリーとシステムフォールバック
- **モバイルファースト**: レスポンシブデザインアプローチ

## 開発環境セットアップ
- **Node.js**: ViteとESモジュールに必須
- **ブラウザサポート**: ES6+対応のモダンブラウザ
- **ホットリロード**: ViteのHMRシステムによる自動更新

## ビルドプロセス
- **バンドラー**: Rollup (Vite経由)
- **出力**: `dist/`ディレクトリ
- **最適化**: 本番環境での自動ミニファイとアセット最適化
- **ソースマップ**: デバッグ用に有効化

## 開発ワークフロー (プロトタイプ重視)
プロトタイプ開発では以下の軽量なワークフローで進める：
1. **簡単な要件整理** - 必要最小限の機能要件を`docs/spec.md`に記載
2. **軽い設計メモ** - 複雑なアーキテクチャは不要、基本的な構成のみ`docs/design.md`に記載
3. **シンプルなタスク** - 具体的で小さな作業単位を`docs/task.md`に記載

**重要**: APIの接続や複雑なモジュール設計は避け、とにかくシンプルに動くものを素早く作る

## ファイル配置ルール
- **JavaScriptファイル**: すべてのJSファイルは`src/`ディレクトリに配置
- **エントリーポイント**: `src/main.js`がメインエントリーポイント
- **モジュール**: 新しいJSモジュールも`src/`ディレクトリ内に作成
- **ドキュメント**: 要件書や設計書などのドキュメントは`docs/`ディレクトリに作成
- **仕様書**: 機能要件や仕様は`docs/spec.md`に記載
- **設計書**: アーキテクチャやシステム設計は`docs/design.md`に記載
- **作業タスク**: 作業を行う前に、作業タスクを`docs/task.md`に記載

## 特別な考慮事項
- **既存ドキュメント**: 包括的な日本語README.mdが詳細なガイダンスを提供
- **国際化**: HTMLは`lang="ja"`を使用しているが、UIテキストは現在英語
- **モジュール読み込み**: 厳密なESモジュール - CommonJS互換性なし